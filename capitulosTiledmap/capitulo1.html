<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Introducción a tiledmap</title>

    <!-- Bootstrap CSS -->
    <link href="../lib/bootstrap-3.2.0-dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Custom CSS -->
    <link href="../css/capitulosCSS/capitulo1.css" rel="stylesheet">
    <link href="../css/main.css" rel="stylesheet">
    
    <link rel="shortcut icon" href="../img/index/alienIcon.png">




        <nav class="navbar navbar-inverse navbar-fixed-top device-fixed-height">
            <div class="container">
                <div class="navbar-header">
                    <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
                        <span class="sr-only">Toggle navigation</span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                </div>
                <div id="navbar" class="collapse navbar-collapse device-fixed-width">
                    <ul class="nav navbar-nav">
                        <li><a href="../index.html">Inicio</a>
                        </li>
                        <li >
                            <a href="../tutorialesTiledmap.html">Índice</a>
                        </li>
                        <li><a href="../contact.html">Contacto</a>
                        </li>
                    </ul>
                </div>
                <!--/.nav-collapse -->
            </div>
        </nav>
        <!--Nav bar end-->


        <div class="container afternav">
            <h1>Capítulo 1 - Introducción a tiledmap</h1>
            <p>
                Tiled es un editor para generar mapas de tiles, estos mapas pueden ser cargados en Cocos2d-x y usados para crear niveles de videojuegos. En este tutorial veremos cómo crear un nivel en Tiled que es compatible con cocos. Descarga el código completo del juego "Super alien" juntos con sus recursos <a href="../img/tiledmap/capitulo1/SuperAlienWorld.zip">aquí</a> y en cada capítulo veremos el funcionamiento del mismo.
            </p>

            <h2>1.1 Manos a la obra</h2>
            <p>
                Antes de comenzar a examinar el código, veremos cómo usar el editor de Tiled. Comenzamos descargando Tiled <a href="http://www.mapeditor.org/">aquí</a> y algunos tiles para nuestro juego <a href="http://kenney.nl/assets">aquí</a> (o simplemente usa los que encontraras en la carpeta Resources de Super Alien).
            </p>
            <p>
                Ya tenemos todo listo, tras instalar Tiled,  ábrelo, y verás algo como esto:
            </p>
            <center>
                <img img class="img-rounded mobile" src="../img/tiledmap/capitulo1/tiledmap-open.png" width="800px"><br><br>
            </center>
            <p>
                En Tiled existen 3 tipos de capas, capa de patrones, objetos e imagen. Solo necesitamos la de patrones y objetos. Crea un nuevo mapa y configúralo como en la imagen, nos vale un alto de 7 patrones y ponemos un ancho de 100, luego podremos recortar o agrandar el mapa a nuestro gusto. Observa que de ancho y alto de patrón ponemos 128px esto es porque los tiles de la carpeta Resources de Super alien, tienen esta medida. Si usases otros tiles, debes poner ahí su alto y ancho.
            </p>  
            <center>
                <img img class="img-rounded " src="../img/tiledmap/capitulo1/configmap.png" width="400px">
                <br><br>
            </center>  
            <p>
                Hemos creado el mapa, falta añadir los tiles para pintarlo. Para ello ve al menú de la imagen y después se abrirá un dialogo.
            </p>
            <center>
                <img img class="img-rounded mobile" src="../img/tiledmap/capitulo1/patrones.png" width="800px">
                <br><br>
            </center>  
            <p>
                En el dialogo que veras a continuación, selecciona explorar y carga el sprite sheet con los patrones que quieras. Para que funcione en cocos, el mapa debe estar en la misma ubicación que los Sprite sheet, si tienes duda abre el fichero generado con un editor de texto (el mapa no es más que un XML).
            </p>
            <center>
                <img img class="img-rounded " src="../img/tiledmap/capitulo1/dialog.png" width="400px">
                <br><br>
            </center> 
            <p>
                Ya tenemos los patrones así que a pintar. Cocos solo permite un sprite sheet por capa, es decir para cada capa pintada en Tiled solo podemos usar componentes de un sprite sheet. Si queremos usar componentes de otra Sprite Sheet, debemos crear otra capa.
            </p>
            <center>
                <img img class="img-rounded mobile" src="../img/tiledmap/capitulo1/tiles.png" width="800px">
                <br><br>
            </center>  
            <p>
                Además de capas de patrones, existen capas de objetos que nos permiten posicionar puntos en el mapa si abres alguno de los niveles de la carpeta Resources de Super Alien verás cómo son usadas estas capas.
            </p>
            <center>
                <img img class="img-rounded mobile" src="../img/tiledmap/capitulo1/nivel1.png" width="800px">
                <br><br>
            </center>  
            <p>
                Mirando esta imagen se puede apreciar que las capas de objetos se usaran para detectar colisiones, es decir colocas una capa de objetos llamada "ground" por ejemplo y en ella pintas las líneas que serán el suelo de nuestro juego o una capa para pintar las zonas de fin de partida y así sucesivamente, es importante separar en capas las distintas funcionalidades si no, no podremos distinguirlas y mantener la nomenclatura de las capas en todos los niveles de forma que nuestro código sea válido para todos ellos . Otro dato importante a tener en cuenta es que los ejes de coordenadas de Tiled no se corresponden con los de cocos, en Tiled el 0,0 está situado arriba a la izquierda y en cocos está situado abajo a la izquierda. En futuros capítulos veremos cómo lidiar con esto.
            </p>
          
            <!-- end container -->
        </div>


        <!-- next chapter link -->
        <div>
            <br/>
            <center>
                <a  href="capitulo2.html" >
                    Capítulo siguiente <span class="glyphicon glyphicon-arrow-right" aria-hidden="true"></span> 
                </a>
            </center>
            <br/>
        </div>




        <!-- BOOTSTRAP CORE JS -->
        <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
        <script src="../js/jquery-1.11.1.min.js"></script>
        <!-- Include all compiled plugins (below), or include individual files as needed -->
        <script src="../lib/bootstrap-3.2.0-dist/js/bootstrap.min.js"></script>
        <script>
            // from https://signalvnoise.com/posts/2407-device-scale-user-interface-elements-in-ios-mobile-safari
            function getDeviceScale() {
                var deviceWidth, landscape = Math.abs(window.orientation) == 90;
                if (landscape) {
                  // iPhone OS < 3.2 reports a screen height of 396px
                  deviceWidth = Math.max(480, screen.height);
                } else {
                  deviceWidth = screen.width;
                }
                return window.innerWidth / deviceWidth;
            }

            // mobile only - keep the position:fixed header at constant size when page is zoomed
            if (navigator.userAgent.match(/Mobi/)) {
                $(window).on('load scroll', function() {
                    var ds = getDeviceScale();
                    $('.device-fixed-height').css('transform','scale(1,' + ds + ')')
                        .css('transform-origin', '0 0');
                    $('.device-fixed-width').css('transform', 'scale(' + ds + ',1)')
                        .css('transform-origin', '0 0');
                    })
            }
        </script>
         <script>
            (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
                m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
            })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

            ga('create', 'UA-63954706-1', 'auto');
            ga('send', 'pageview');
        </script>
    </body>

</html>