<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Instalando cocos2d-x v3.x en windows</title>

    <!-- Bootstrap CSS -->
    <link href="../lib/bootstrap-3.2.0-dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Custom CSS -->
    <link href="../css/capitulosCSS/capitulo1.css" rel="stylesheet">




        <nav class="navbar navbar-inverse navbar-fixed-top device-fixed-height">
            <div class="container">
                <div class="navbar-header">
                    <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
                        <span class="sr-only">Toggle navigation</span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                </div>
                <div id="navbar" class="collapse navbar-collapse device-fixed-width">
                    <ul class="nav navbar-nav">
                        <li><a href="../index.html">Inicio</a>
                        </li>
                        <li class="active">
                            <a href="../tutorialesTiledmap.html">Tutoriales</a>
                        </li>
                        <li><a href="../contact.html">Contacto</a>
                        </li>
                    </ul>
                </div>
                <!--/.nav-collapse -->
            </div>
        </nav>
        <!--Nav bar end-->


        <div class="container afternav">
            <h1>Capítulo 3 - Introducción</h1>
            <p>
                ELas capas de onbjetos nos facilitan la creacion de figuras geometricas como circulos, cuadrados o lineas, en nuestro juego solo usaremos estas últimas, estas lineas se llaman polyLine, para facilitar el tratamiento de nuestros niveles, todas las capas de objetos contienen exclusivamente este tipo de objeto. Veamos ahora las plicaciones que esto tiene
            </p>

            <h2>3.1 Capas de objetos</h2>
            <p>
                Cada nivel cosnta de estas 3 capas de objetos: Ground, Wall y Winning cada capa contiene varias polyLines, la separación en capas es apra separar la funcionalidad, es decir si el jugador choca contra el suelo quiero que haga algo y si choca contra una pared deseo que haga algo distinto que al colisionar con el suelo, lo mismo sucede si colisiona con la puerta de final de partida.
            </p>
            <p>
                Todas son capas de objetos pero cada una deberá tener una función distinta y para ello les asignamos un tag específico a cada una.
                Seguimos en la calse BaseLevel, vemaos la creación del suelo.
            </p>
            <h3>createGround.cpp</h3>
            <iframe  src="../img/tiledmap/capitulo2/createGround.cpp.html" width="100%" height="300px">Your Browser doesn't support Frames.</iframe>
            <p>
                Como vemos, usamos <strong>auto groundObjLayer = _map->getObjectGroup("ground")</strong> para obtener la capa que contiene las polyLines, de esta capa otemos un listado de objetos e iteramos, cada objeto contendrá una polyLine y unos valores de posición que usaremos como offset en el eje X y eje Y. Estos offset se usan para posicionar correctamente los puntos de las polylines (recordar que los ejes y de cocos y Tiledmap no corresponden). Las lineas comentas crean un DrawNode que nos permitirá dibujar estas polyLines. Descomenta estas lineas del lineDrawer para ver dibujada la linea en el juego, además de dibujar las lineas, estos puntos sirven para generar la física del suelo del juego gracias al método <strong>createPhysicsBodyFromPoints</strong> que veremos en capítulos siguientes relativos a la física del juego. A este método le pasamos un tag <strong>GROUND_TAG</strong> que identificará a las lineas que forman la física del suelo en el futuro.
            </p>
            <h2>3.2 Wall</h2>
            <p>
                Como acabamos de ver al crear la física, le asignamos un tag a esas lineas para identificar su funcionalidad, tal como dijimos previamente esto no sería posible si las lineas que queremos separar por funcionalidad, no lo estuviesen también separadas por capas. Veamos ahora como crear las lineas que conforman las paredes del juego.
            </p>
            <h3>createWall.cpp</h3>
            <iframe  src="../img/tiledmap/capitulo2/createWall.cpp.html" width="100%" height="300px">Your Browser doesn't support Frames.</iframe>
            <p>
                Este método es identico al anterior, sólo cambia el tag empleado que en este caso será <strong>WALL_TAG</strong>. Una vez mas vemos nuestro lineDrawer comentado, si queremos ver estas lineas dibujadas en el juego, deberemos descomentar ese código
            </p>
            <p>
                Hay una última capa de objetos que será tratada de forma identica a las dos anterirores por lo que no la mostraremos, simplemnte cambiamos su tag para poder identificar su funcionalidad.
            </p>
            

            <!-- end container -->
        </div>


        <!-- next chapter link -->
        <div>
            <br/>
            <center>
                <a  href="capitulo2.html" >
                    <span class="glyphicon glyphicon-arrow-left" aria-hidden="true"></span> Capítulo anterior
                </a>
                |
                <a  href="capitulo4.html" >
                    Capítulo siguiente <span class="glyphicon glyphicon-arrow-right" aria-hidden="true"></span> 
                </a>
            </center>
            <br/>
        </div>




        <!-- BOOTSTRAP CORE JS -->
        <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
        <script src="../js/jquery-1.11.1.min.js"></script>
        <!-- Include all compiled plugins (below), or include individual files as needed -->
        <script src="../lib/bootstrap-3.2.0-dist/js/bootstrap.min.js"></script>
        <script>
            // from https://signalvnoise.com/posts/2407-device-scale-user-interface-elements-in-ios-mobile-safari
            function getDeviceScale() {
                var deviceWidth, landscape = Math.abs(window.orientation) == 90;
                if (landscape) {
                  // iPhone OS < 3.2 reports a screen height of 396px
                  deviceWidth = Math.max(480, screen.height);
                } else {
                  deviceWidth = screen.width;
                }
                return window.innerWidth / deviceWidth;
            }

            // mobile only - keep the position:fixed header at constant size when page is zoomed
            if (navigator.userAgent.match(/Mobi/)) {
                $(window).on('load scroll', function() {
                    var ds = getDeviceScale();
                    $('.device-fixed-height').css('transform','scale(1,' + ds + ')')
                        .css('transform-origin', '0 0');
                    $('.device-fixed-width').css('transform', 'scale(' + ds + ',1)')
                        .css('transform-origin', '0 0');
                    })
            }
        </script>
         <script>
            (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
                m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
            })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

            ga('create', 'UA-63954706-1', 'auto');
            ga('send', 'pageview');
        </script>
    </body>

</html>